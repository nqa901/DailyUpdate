//å¼•ç”¨

fn main(){

    //ä¸€ä¸ªæ™®é€šçš„åŸºæœ¬ç±»åž‹å¼•ç”¨å’Œè§£å¼•ç”¨çš„ä¾‹å­
    // let x = 5;
    // let y = &x;
    // println!("x = {}, *y = {}",x,*y);


    //ä¸å¯å˜å¼•ç”¨
    //&å…è®¸ä½¿ç”¨å€¼ï¼Œä½†æ˜¯ä¸èŽ·å–æ‰€æœ‰æƒ

    let s1 = String::from("hello");

    let len = calculate_length(&s1);

    println!("The length of '{}' is {}.", s1, len);


    //å¯å˜å¼•ç”¨
    //&mutå…è®¸ä¿®æ”¹å€¼
    //åŒä¸€ä½œç”¨åŸŸï¼Œç‰¹å®šæ•°æ®åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨,é¿å…æ•°æ®ç«žäº‰
    //å¯å˜å¼•ç”¨ä¸èƒ½ä¸Žä¸å¯å˜å¼•ç”¨åŒæ—¶å­˜åœ¨


    let mut s = String::from("Hello");
    let r1 = &mut s;
    r1.push_str(", world!");
    println!("{}",*r1);


    //ref
    //ä½¿ç”¨refå…³é”®å­—å¯ä»¥åˆ›å»ºå¼•ç”¨çš„å¼•ç”¨
    let s2 = String::from("ðŸŒŸ");
    let ref r1 = s2;
    println!("{}",*r1);


    //rustç¼–è¯‘å™¨ç¡®ä¿å¼•ç”¨ç»å¯¹ä¸ä¼šå˜æˆæ‚¬åž‚çŠ¶æ€
    //ç¼–è¯‘å™¨å¯ä»¥ç¡®ä¿æ•°æ®ä¸ä¼šåœ¨å¼•ç”¨ç»“æŸå‰è¢«é‡Šæ”¾ï¼Œè¦æƒ³é‡Šæ”¾æ•°æ®ï¼Œå¿…é¡»å…ˆåœæ­¢å…¶å¼•ç”¨çš„ä½¿ç”¨.
}


fn calculate_length(s: &String) -> usize {
    s.len()
}